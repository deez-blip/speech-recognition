<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Commands Web App</title>

    <style>
        #content {
            height: 1000px;
            overflow: scroll;
        }
        .section {
            height: 500px;
            background-color: #f0f0f0;
            margin-bottom: 20px;
        }
    </style>

</head>
<body>
    <a href="index.html">speech search</a>
    <h1>Voice Commands Web App</h1>

    <p>Utilisez des commandes vocales pour naviguer sur cette page :</p>

    <ul>
        <li><strong>Suivant</strong> : passe au prochain élément de la page</li>
        <li><strong>Précédent</strong> : retourne au précédent élément de la page</li>
        <!-- <li><strong>Aller en haut</strong> : fait défiler la page vers le haut</li>
        <li><strong>Aller en bas</strong> : fait défiler la page vers le bas</li> -->
    </ul>

    <div id="content">
        <div class="section">Section 1</div>
        <div class="section">Section 2</div>
        <div class="section">Section 3</div>
        <div class="section">Section 4</div>
        <div class="section">Section 5</div>
        <div class="section">Section 6</div>
        <div class="section">Section 7</div>
        <div class="section">Section 8</div>
        <div class="section">Section 9</div>
        <div class="section">Section 10</div>
    </div>


    <script>
        var SpeechRecognition = SpeechRecognition || webkitSpeechRecognition
        let recognition = new SpeechRecognition()

        // Configurer les paramètres de reconnaissance
        recognition.lang = 'fr-FR';
        recognition.interimResults = false;
        recognition.maxAlternatives = 1;
        recognition.start();

        recognition.onresult = function(event) {
            var command = event.results[0][0].transcript.toLowerCase();
            console.log('Commande : ' + command);

            if (command === 'aller en haut') {
                window.scrollBy(0, -500);
            }

            if (command === 'aller en bas') {
                window.scrollBy(0, 500);
            }
        };

        // Réactiver la reconnaissance vocale lorsque la transcription est terminée
        recognition.onend = function() {
            recognition.start();
        };

        // Aller à la section suivante
            // if (command === 'suivant') {
            //     var sections = document.getElementsByClassName('section');
            //     for (var i = 0; i < sections.length; i++) {
            //         console.log('caca')
            //         var section = sections[i];
            //         var rect = section.getBoundingClientRect();
            //         if (rect.bottom > 0 && rect.bottom < window.innerHeight) {
            //             var nextSection = sections[i + 1];
            //             if (nextSection) {
            //                 nextSection.scrollIntoView({ behavior: 'smooth' });
            //             }
            //             break;
            //         }
            //     }
            // }

            // Aller à la section précédente
            // if (command === 'précédent') {
            //     var sections = document.getElementsByClassName('section');
            //     for (var i = sections.length - 1; i >= 0; i--) {
            //         var section = sections[i];
            //         var rect = section.getBoundingClientRect();
            //         if (rect.top < window.innerHeight && rect.top > 0) {
            //             var previousSection = sections[i - 1];
            //             if (previousSection) {
            //                 previousSection.scrollIntoView({ behavior: 'smooth' });
            //             }
            //             break;
            //         }
            //     }
            // }
    </script>
</body>
</html>


